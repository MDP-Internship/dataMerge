{"version":3,"sources":["../../api/controllers/irregularController.js"],"names":["util","Util","irregularController","req","res","personelData","body","Helpers","dataMerge","result","idList","console","log","err","send","forEach","item","IrregularServices","peopleAdd","people","setError","setSuccess","error"],"mappings":";;;;;;;AAEA;;AACA;;AACA;;AACA;;;;;;;;AAEA,IAAMA,IAAI,GAAG,IAAIC,iBAAJ,EAAb;;AAEe,SAASC,mBAAT,CAA6BC,GAA7B,EAAkCC,GAAlC,EAAuC;AACpD,MAAMC,YAAY,GAAGF,GAAG,CAACG,IAAzB;;AAEAC,sBAAQC,SAAR,CAAkBH,YAAlB,EAAgC,UAACI,MAAD,EAASC,MAAT,EAAoB;AAClD,QAAI;AACF;AACA,UAAI,CAAC,6BAAYA,MAAZ,EAAoBN,GAAzB,EAA8B;AAC5BO,QAAAA,OAAO,CAACC,GAAR,CAAY,6BAAYF,MAAZ,EAAoBG,GAAhC;AACAT,QAAAA,GAAG,CAACU,IAAJ,CAAS,6BAAYJ,MAAZ,EAAoBG,GAA7B;AACD,OALC,CAMF;;;AACA,UAAI,CAAC,wCAAuBJ,MAAvB,EAA+BL,GAApC,EAAyC;AACvCA,QAAAA,GAAG,CAACU,IAAJ,CAAS,wCAAuBL,MAAvB,EAA+BI,GAAxC;AACD,OATC,CAUF;;;AACA,UAAI,6BAAYH,MAAZ,EAAoBN,GAApB,IAA2B,wCAAuBK,MAAvB,EAA+BL,GAA9D,EAAmE;AACjEK,QAAAA,MAAM,CAACM,OAAP;AAAA,6EAAe,iBAAOC,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BACQC,8BAAkBC,SAAlB,CAA4BF,IAA5B,CADR;;AAAA;AACPG,oBAAAA,MADO;;AAAA,wBAERA,MAFQ;AAAA;AAAA;AAAA;;AAGXnB,oBAAAA,IAAI,CAACoB,QAAL,CAAc,GAAd,EAAmB,kBAAnB;AAHW,qDAIJpB,IAAI,CAACc,IAAL,CAAUV,GAAV,CAJI;;AAAA;AAAA,yBAMTe,MANS;AAAA;AAAA;AAAA;;AAOXnB,oBAAAA,IAAI,CAACqB,UAAL,CAAgB,GAAhB,EAAqB,iBAArB;AAPW,qDAQJrB,IAAI,CAACc,IAAL,CAAUV,GAAV,CARI;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAf;;AAAA;AAAA;AAAA;AAAA;AAWD;AACF,KAxBD,CAwBE,OAAOkB,KAAP,EAAc;AACdtB,MAAAA,IAAI,CAACoB,QAAL,CAAc,GAAd,EAAmBE,KAAnB;AACAtB,MAAAA,IAAI,CAACc,IAAL,CAAUV,GAAV;AACD;AACF,GA7BD;AA8BD","sourcesContent":["/* eslint-disable spaced-comment */\r\n/* eslint-disable consistent-return */\r\nimport Helpers from '../utils/helpers'\r\nimport IrregularServices from '../services/irregularServices'\r\nimport { personelInfoValidation, isPersoneId } from '../utils/validation'\r\nimport Util from '../utils/utils'\r\n\r\nconst util = new Util()\r\n\r\nexport default function irregularController(req, res) {\r\n  const personelData = req.body\r\n\r\n  Helpers.dataMerge(personelData, (result, idList) => {\r\n    try {\r\n      //id string kontrolü\r\n      if (!isPersoneId(idList).res) {\r\n        console.log(isPersoneId(idList).err)\r\n        res.send(isPersoneId(idList).err)\r\n      }\r\n      // verilerin genel kurallara uygunluğu\r\n      if (!personelInfoValidation(result).res) {\r\n        res.send(personelInfoValidation(result).err)\r\n      }\r\n      //db yazdırılma işlemi\r\n      if (isPersoneId(idList).res && personelInfoValidation(result).res) {\r\n        result.forEach(async (item) => {\r\n          const people = await IrregularServices.peopleAdd(item)\r\n          if (!people) {\r\n            util.setError(200, 'people not found')\r\n            return util.send(res)\r\n          }\r\n          if (people) {\r\n            util.setSuccess(200, 'people all save')\r\n            return util.send(res)\r\n          }\r\n        })\r\n      }\r\n    } catch (error) {\r\n      util.setError(400, error)\r\n      util.send(res)\r\n    }\r\n  })\r\n}\r\n"],"file":"irregularController.js"}